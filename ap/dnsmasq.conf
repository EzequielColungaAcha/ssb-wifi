# =========================================================
#  SSB WiFi Kiosk - dnsmasq Configuration
#  
#  DHCP and DNS server for WiFi clients
#  Copy to: /etc/dnsmasq.d/ssb-wifi-kiosk.conf
# =========================================================

# ===== Interface Configuration =====

# Listen only on the WiFi AP interface
interface=wlan0

# Don't listen on WAN interface
except-interface=eth0

# Bind to specific interfaces only
bind-interfaces

# ===== DHCP Configuration =====

# IP range for clients: 192.168.4.10 - 192.168.4.200
# Lease time: 4 hours
dhcp-range=192.168.4.10,192.168.4.200,255.255.255.0,10m

# Gateway (the Raspberry Pi)
dhcp-option=3,192.168.4.1

# DNS server (the Raspberry Pi, forwarding upstream)
dhcp-option=6,192.168.4.1

# Local domain
domain=local

# Maximum DHCP leases
dhcp-lease-max=200

# ===== DNS Configuration =====

# Don't read /etc/resolv.conf
no-resolv

# Upstream DNS servers (Cloudflare and Google)
server=1.1.1.1
server=8.8.8.8
server=8.8.4.4

# DNS cache size
cache-size=1000

# ===== Logging =====

# Log DHCP transactions
log-dhcp

# Don't log every DNS query (too verbose)
# Uncomment for debugging:
# log-queries
